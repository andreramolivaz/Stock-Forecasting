

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Reinforcement Learning &#8212; Stock Forecast</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/reinforcement_learning';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="ARIMA for Time Series Analysis" href="time_series_analysis.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Stock Forecast - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Stock Forecast - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Preparation and Analysis</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data_retrivial.html">Data Retrivial</a></li>


<li class="toctree-l1"><a class="reference internal" href="data_preprocessing.html">Data Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="exploratory_data_analysis.html">Exploratory Data Analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Modeling</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="supervised_learning.html">Supervised Learning</a></li>






<li class="toctree-l1"><a class="reference internal" href="time_series_analysis.html">ARIMA for Time Series Analysis</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Reinforcement Learning</a></li>



</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/andreramolivaz/CT0590/tree/data-model" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/andreramolivaz/CT0590/tree/data-model/issues/new?title=Issue%20on%20page%20%2Fnotebooks/reinforcement_learning.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/reinforcement_learning.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Reinforcement Learning</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Reinforcement Learning</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#theoretical-concepts">Theoretical concepts</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#markov-decision-process">1. Markov Decision Process</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reward-and-evaluation-function">2. Reward and evaluation function</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-rl-algorithms">3. Common RL algorithms</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-rl-in-finance">Use of RL in finance</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#practical-implementation">Practical implementation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-financial-market-simulation-with-gym-mtsim">Introduction to Financial Market Simulation with Gym-MTSim</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-a-reinforcement-learning-environment-for-forex-trading-with-gym-mtsim">Setting Up a Reinforcement Learning Environment for Forex Trading with Gym-MTSim</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-accuracy">Custom accuracy</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-accuracy-profitable-trades-ratio">Custom accuracy: Profitable Trades Ratio</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="reinforcement-learning">
<h1>Reinforcement Learning<a class="headerlink" href="#reinforcement-learning" title="Permalink to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h1>
<p>Reinforcement Learning is a branch of machine learning that focuses on how agents should act in an environment to maximize a notion of cumulative reward. Unlike supervised learning, where algorithms are trained on labeled examples, RL learns from a trial-and-error process based on the environment’s responses to its actions.</p>
<p>Differences between RL and other learning methods:</p>
<ul class="simple">
<li><p><strong>Supervised learning</strong>: Algorithms learn from labeled examples, trying to predict label based on the training set;</p></li>
<li><p><strong>Unsupervised learning</strong>: Algorithms try to find patterns in the data, without any labels;</p></li>
<li><p><strong>Reinforcement learning</strong>: Agent learns to make decision through rewards (or punishments) received from its actions.</p></li>
</ul>
<p><strong>Key elements:</strong></p>
<ul class="simple">
<li><p>Agent:</p>
<ul>
<li><p><strong>Definition</strong>: The agent is the entity that makes decisions and learns through interaction with the environment. In RL, the agent chooses actions to take based on its current policy.</p></li>
<li><p><strong>Role in RL</strong>: The agent is at the center of learning in RL. Its goal is to learn the best possible policy, that is, a map from states to actions, to maximize the total reward collected over time.</p></li>
</ul>
</li>
<li><p>Enviroment:</p>
<ul>
<li><p><strong>Definition</strong>: Environment represents the context or world in which the agent operates. It includes anything that the agent can interact with but does not have direct control over;</p></li>
<li><p><strong>Interaction with the agent</strong>: The environment responds to the agent’s actions and presents new states and rewards to the agent. The nature of the environment can vary from simple and static to complex and dynamic.</p></li>
</ul>
</li>
<li><p>State:</p>
<ul>
<li><p><strong>Definition</strong>: A state is a configuration or representation of the environment at a given time. States provide the information the agent needs to make decisions.</p></li>
<li><p><strong>Importance</strong>: The quality and quantity of information available in states can significantly influence the effectiveness of agent learning.</p></li>
</ul>
</li>
<li><p>Action:</p>
<ul>
<li><p><strong>Definition</strong>: Actions are the various behaviors or moves that the agent can perform. The set of all available actions is known as the action space.</p></li>
<li><p><strong>Action-Stata dynamics</strong>: Every action taken by the agent affects the state of the environment. The relationship between actions and their consequence on states is fundamental to the agent’s decision making.</p></li>
</ul>
</li>
<li><p>Reward:</p>
<ul>
<li><p><strong>Definnition</strong>: A reward is immediate feedback provided to the agent by the environment as a consequence of his or her actions. Rewards can be positive (to encourage certain actions) or negative (to discourage certain actions).</p></li>
<li><p><strong>Role in learning</strong>: Rewards are the main guide for the agent in the learning process. The agent’s goal is to maximize the sum of rewards over time, often referred to as return.</p></li>
</ul>
</li>
<li><p>Policy:</p>
<ul>
<li><p><strong>Definition</strong>: A policy is a strategy adopted by the agent, a kind of rule or algorithm that decides what action to take based on the current state.</p></li>
<li><p><strong>Types</strong>: Policies can be deterministic or stochastic. A deterministic policy always provides the same action for a given state, while a stochastic policy selects actions according to a probability distribution.</p></li>
</ul>
</li>
<li><p>Evaluation functions:</p>
<ul>
<li><p><strong>Goal</strong>: These functions help the agent evaluate the effectiveness of his or her actions and policies.</p></li>
<li><p><strong>Types</strong>:</p>
<ul>
<li><p><strong>Value function</strong>: Estimates the expected return from a state following a given policy.</p></li>
<li><p><strong>Q-Value function</strong>: also known as <strong>Action-Value function</strong>. Estimates the expected return for a state-action pair.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Model:</p>
<ul>
<li><p><strong>Description</strong>: A model is an internal representation of the environment that the agent uses to predict how the environment will respond to its actions.</p></li>
<li><p><strong>Model-based vs model-free RL</strong>: In model-based RL, the agent uses an explicit model of the environment to plan its actions. In model-free RL, the agent learns directly from interactions with the environment without an explicit model.</p></li>
</ul>
</li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="theoretical-concepts">
<h1>Theoretical concepts<a class="headerlink" href="#theoretical-concepts" title="Permalink to this heading">#</a></h1>
<section id="markov-decision-process">
<h2>1. Markov Decision Process<a class="headerlink" href="#markov-decision-process" title="Permalink to this heading">#</a></h2>
<p>The Markov Decision Process (MDP) is a fundamental mathematical framework in the field of Reinforcement Learning. It provides a formalization for decision-making in uncertain and dynamic situations. An MDP is characterized by a set of states, a set of actions, transition probabilities and reward functions.</p>
<p>Key MDP elements:</p>
<ul class="simple">
<li><p><strong>States</strong>: A set of states <span class="math notranslate nohighlight">\(S\)</span> represents all the possible configurations the environment can be in.</p></li>
<li><p><strong>Actions</strong>: A set of actions <span class="math notranslate nohighlight">\(A\)</span> that the agent can take. The set of available actions may depend on the current state.</p></li>
<li><p><strong>Transition probability</strong>: A transaction function <span class="math notranslate nohighlight">\(P(s_{t+1} | s_t, a_t)\)</span> which defines the probability of transition to the state <span class="math notranslate nohighlight">\(s_{t+1}\)</span> given the current state <span class="math notranslate nohighlight">\(s_t\)</span> and action <span class="math notranslate nohighlight">\(a_t\)</span>.</p></li>
<li><p><strong>Reward</strong>: A reward function <span class="math notranslate nohighlight">\(R(s_t, a_t, s_{t+1})\)</span> which assigns a reward (or a punishment) to the agent for the transition from state <span class="math notranslate nohighlight">\(s_t\)</span> to state <span class="math notranslate nohighlight">\(s_{t+1}\)</span> after taking action <span class="math notranslate nohighlight">\(a_t\)</span>.</p></li>
</ul>
<p>The fundamental property of an MDP is the “Markov property,” which states that the future is independent of the past given the present. This means that the transition probability and reward depend only on the current state and the action taken, not on the history of previous actions or states.</p>
</section>
<section id="reward-and-evaluation-function">
<h2>2. Reward and evaluation function<a class="headerlink" href="#reward-and-evaluation-function" title="Permalink to this heading">#</a></h2>
<p>In the context of Reinforcement Learning, the reward and evaluation function are central concepts that guide agent learning and decision-making. This chapter explores the nature of these components and their role in RL.</p>
<p>Reward:</p>
<ul class="simple">
<li><p><strong>Definition</strong>: A reward is a scalar value that represents the immediate feedback provided to the agent by the environment as a consequence of his or her actions. Rewards can be positive (to encourage certain actions) or negative (to discourage certain actions).</p></li>
<li><p><strong>Role in learning</strong>: Rewards are the main guide for the agent in the learning process. The agent’s goal is to maximize the sum of rewards over time, often referred to as return.</p></li>
</ul>
<p>Evaluation function:</p>
<ul class="simple">
<li><p><strong>Value function</strong>: The value function, denoted as <span class="math notranslate nohighlight">\(V(s)\)</span>, estimates the expected total return from a states following a given policy. It provides a measure of the goodness-of-fit of a state.</p></li>
<li><p><strong>Q-value function</strong>: The Q-value function, or action-value function, denoted as <span class="math notranslate nohighlight">\(Q(s, a)\)</span>, evaluates the action <span class="math notranslate nohighlight">\(a\)</span> in the state <span class="math notranslate nohighlight">\(s\)</span>. It estimates the expected return following the action <span class="math notranslate nohighlight">\(a\)</span> in the state <span class="math notranslate nohighlight">\(s\)</span> and then adhering to a specific policy.</p></li>
</ul>
</section>
<section id="common-rl-algorithms">
<h2>3. Common RL algorithms<a class="headerlink" href="#common-rl-algorithms" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Q-learning is a model-free learning method that seeks to learn an optimal policy independently of the agent’s current action.
The algorithm iteratively updates the Q-value estimates for each state-action pair using the Q-learning update formula, based on the reward received and the maximum Q-value of the next state. Q-learning is widely used for problems with discrete state and action spaces and is well suited to situations with uncertain environmental dynamics.</p></li>
<li><p>SARSA is a model-based differential time learning (TD) algorithm.
Unlike Q-learning, SARSA updates its Q-values based on the agent’s current policy (on-policy). The update considers the current transition and the next action the agent intends to perform. SARSA is useful in environments where risk assessment and safety considerations are important because it takes into account the actual path the agent plans to follow.</p></li>
</ul>
<p>Some remarks:</p>
<ul class="simple">
<li><p><strong>Exploration vs. exploitation</strong>: A key aspect in RL is the balance between exploration (trying new actions) and exploitation (using acquired knowledge). RL algorithms must effectively manage this balance;</p></li>
<li><p><strong>Scalability and complexity</strong>: the scalability of algorithms in environments with large state and action spaces is a significant challenge. Methods such as deep learning have been integrated into RL to address this challenge.</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="use-of-rl-in-finance">
<h1>Use of RL in finance<a class="headerlink" href="#use-of-rl-in-finance" title="Permalink to this heading">#</a></h1>
<p>In trading, RL can be used to develop automated strategies that decide when to buy, sell, or hold a stock or cryptocurrency.
Financial markets are complex, noisy, and nonstationary, making trading an ideal challenge for RL, which can adapt to such dynamic conditions.</p>
<p>Challenges:</p>
<ul class="simple">
<li><p>Financial data are often noisy and exhibit nonstationarity, which can lead to overfitting and inconsistent model performance.</p></li>
<li><p>Markets change rapidly, and what has worked in the past may no longer be valid, requiring the model to continually adapt.</p></li>
</ul>
<p>Pros of using RL:</p>
<ul class="simple">
<li><p><strong>Automation and Scalability</strong>: The RL can automate trading decisions and operate on a large scale, analyzing huge amounts of data more efficiently than human analysis.</p></li>
<li><p><strong>Adaptability</strong>: RL models can dynamically adapt to changes in the market, continuously learning from new data.</p></li>
<li><p><strong>High Performance Potential</strong>: When configured well, RL models can potentially outperform traditional strategies and human traders, especially in highly volatile markets.</p></li>
</ul>
<p>Common approaches:</p>
<ul class="simple">
<li><p><strong>Deep reinforcement learning</strong>: The use of deep neural networks to handle the complexity of market data and capture nonlinear relationships.</p></li>
<li><p><strong>Optimized exploration strategies</strong>: Development of exploration methods that balance between learning from historical market situations and exploring new trading strategies.</p></li>
</ul>
<section id="practical-implementation">
<h2>Practical implementation<a class="headerlink" href="#practical-implementation" title="Permalink to this heading">#</a></h2>
<section id="introduction-to-financial-market-simulation-with-gym-mtsim">
<h3>Introduction to Financial Market Simulation with Gym-MTSim<a class="headerlink" href="#introduction-to-financial-market-simulation-with-gym-mtsim" title="Permalink to this heading">#</a></h3>
<p>In this section of our Jupyter Notebook, we explore the world of financial market simulation using the <code class="docutils literal notranslate"><span class="pre">gym_mtsim</span></code> library, an extension of OpenAI’s Gym. The Gym library provides a standardized interface for reinforcement learning (RL) tasks, and <code class="docutils literal notranslate"><span class="pre">gym_mtsim</span></code> specifically caters to financial market simulations, offering a unique and practical approach for testing and developing financial strategies in a controlled, simulated environment.</p>
<p>The code snippet provided initializes various environments that simulate different financial markets and trading scenarios. Each environment corresponds to a unique market type or strategy:</p>
<ol class="arabic simple">
<li><p><strong>Forex Markets (Hedged and Unhedged):</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">forex-hedge-v0</span></code> simulates a foreign exchange (Forex) market with a hedging strategy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">forex-unhedge-v0</span></code> represents the Forex market without a hedging strategy.</p></li>
</ul>
</li>
<li><p><strong>Stock Markets (Hedged and Unhedged):</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stocks-hedge-v0</span></code> sets up a simulated environment for stock market trading with a hedging strategy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stocks-unhedge-v0</span></code> offers a simulation of stock market trading without the use of hedging.</p></li>
</ul>
</li>
<li><p><strong>Cryptocurrency Markets (Hedged and Unhedged):</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">crypto-hedge-v0</span></code> is tailored for cryptocurrency market simulations implementing hedging strategies.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crypto-unhedge-v0</span></code> provides a crypto market environment without hedging.</p></li>
</ul>
</li>
<li><p><strong>Mixed Asset Markets (Hedged and Unhedged):</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mixed-hedge-v0</span></code> creates a diverse market environment with multiple asset types, using hedging strategies.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mixed-unhedge-v0</span></code> simulates a mixed asset market without the use of hedging strategies.</p></li>
</ul>
</li>
</ol>
<p>Each of these environments can be used to train and evaluate RL models, providing insights into different trading strategies and market behaviors. This approach is invaluable for researchers and practitioners in the field of quantitative finance, offering a risk-free platform to experiment and refine trading algorithms.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.offline</span> <span class="k">as</span> <span class="nn">pyo</span>
<span class="n">pyo</span><span class="o">.</span><span class="n">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-2.27.0.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gym</span>
<span class="kn">import</span> <span class="nn">gym_mtsim</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s1">&#39;forex-hedge-v0&#39;</span><span class="p">)</span>
<span class="c1"># env = gym.make(&#39;stocks-hedge-v0&#39;)</span>
<span class="c1"># env = gym.make(&#39;crypto-hedge-v0&#39;)</span>
<span class="c1"># env = gym.make(&#39;mixed-hedge-v0&#39;)</span>

<span class="c1"># env = gym.make(&#39;forex-unhedge-v0&#39;)</span>
<span class="c1"># env = gym.make(&#39;stocks-unhedge-v0&#39;)</span>
<span class="c1"># env = gym.make(&#39;crypto-unhedge-v0&#39;)</span>
<span class="c1"># env = gym.make(&#39;mixed-unhedge-v0&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="setting-up-a-reinforcement-learning-environment-for-forex-trading-with-gym-mtsim">
<h2>Setting Up a Reinforcement Learning Environment for Forex Trading with Gym-MTSim<a class="headerlink" href="#setting-up-a-reinforcement-learning-environment-for-forex-trading-with-gym-mtsim" title="Permalink to this heading">#</a></h2>
<p>In this section of our Jupyter Notebook, we delve into setting up a more advanced financial market simulation environment using <code class="docutils literal notranslate"><span class="pre">gym_mtsim</span></code>. This setup is specifically tailored for reinforcement learning (RL) applications in Forex trading. Our focus is to demonstrate how RL can be applied in the complex and dynamic world of foreign exchange markets.</p>
<p>The provided code snippet establishes a simulated trading environment, which is a critical step for training RL agents. Here’s a detailed breakdown of the components and their roles:</p>
<ol class="arabic simple">
<li><p><strong>Importing Necessary Libraries and Modules:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pytz</span></code>: For timezone operations, crucial in time-sensitive financial markets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">timedelta</span></code>: For handling date and time, essential for simulating real-time market scenarios.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code>: A fundamental package for scientific computing, used here for statistical operations.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gym_mtsim</span></code>: The core library for creating the Forex market simulation environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MtEnv</span></code>, <code class="docutils literal notranslate"><span class="pre">MtSimulator</span></code>, <code class="docutils literal notranslate"><span class="pre">FOREX_DATA_PATH</span></code>: Specific classes and constants from <code class="docutils literal notranslate"><span class="pre">gym_mtsim</span></code> used for setting up the environment.</p></li>
</ul>
</li>
<li><p><strong>Initializing the Market Simulator (<code class="docutils literal notranslate"><span class="pre">MtSimulator</span></code>):</strong></p>
<ul class="simple">
<li><p><strong>Currency and Balance:</strong> The simulation uses USD as the base unit with an initial balance of $10,000.</p></li>
<li><p><strong>Leverage and Risk Management:</strong> A leverage of 100x is set, along with a stop-out level at 20% to manage risk.</p></li>
<li><p><strong>Hedging:</strong> The simulator is configured to allow hedging strategies.</p></li>
<li><p><strong>Market Data:</strong> The <code class="docutils literal notranslate"><span class="pre">symbols_filename</span></code> parameter points to the Forex market data source.</p></li>
</ul>
</li>
<li><p><strong>Creating the Trading Environment (<code class="docutils literal notranslate"><span class="pre">MtEnv</span></code>):</strong></p>
<ul class="simple">
<li><p><strong>Trading Symbols:</strong> We focus on three currency pairs: GBPCAD, EURUSD, and USDJPY.</p></li>
<li><p><strong>Window Size:</strong> A window size of 10 is set, determining how much past data is visible to the agent at any point.</p></li>
<li><p><strong>Thresholds for Holding and Closing Positions:</strong> Both set to 0.5, dictating the agent’s decision-making criteria.</p></li>
<li><p><strong>Trading Fees:</strong> Dynamically calculated based on the currency pair, introducing a realistic aspect of cost in trading.</p></li>
<li><p><strong>Order Limits and Parallel Processing:</strong> Each symbol can have up to 2 orders, and the environment supports multiprocessing with 2 processes.</p></li>
</ul>
</li>
</ol>
<p>This setup provides a rich and realistic environment for training RL agents. The agents can learn and adapt their trading strategies based on historical data, market conditions, and transaction costs. The complexity of this environment, with its multiple currency pairs and dynamic fee structure, offers a challenging yet rewarding platform for exploring the capabilities of RL in Forex trading.</p>
<p>In the following parts of the notebook, we will introduce the RL concepts and algorithms, and demonstrate how they can be trained within this environment to make informed trading decisions. This practical application not only showcases the power of RL in financial decision-making but also provides a hands-on experience in applying advanced AI techniques in the domain of quantitative finance.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytz</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">gym_mtsim</span> <span class="kn">import</span> <span class="n">MtEnv</span><span class="p">,</span> <span class="n">MtSimulator</span><span class="p">,</span> <span class="n">FOREX_DATA_PATH</span>


<span class="n">sim</span> <span class="o">=</span> <span class="n">MtSimulator</span><span class="p">(</span>
    <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;USD&#39;</span><span class="p">,</span>
    <span class="n">balance</span><span class="o">=</span><span class="mf">10000.</span><span class="p">,</span>
    <span class="n">leverage</span><span class="o">=</span><span class="mf">100.</span><span class="p">,</span>
    <span class="n">stop_out_level</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">hedge</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">symbols_filename</span><span class="o">=</span><span class="n">FOREX_DATA_PATH</span>
<span class="p">)</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">MtEnv</span><span class="p">(</span>
    <span class="n">original_simulator</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span>
    <span class="n">trading_symbols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GBPCAD&#39;</span><span class="p">,</span> <span class="s1">&#39;EURUSD&#39;</span><span class="p">,</span> <span class="s1">&#39;USDJPY&#39;</span><span class="p">],</span>
    <span class="n">window_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="c1"># time_points=[desired time points ...],</span>
    <span class="n">hold_threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">close_threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">fee</span><span class="o">=</span><span class="k">lambda</span> <span class="n">symbol</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;GBPCAD&#39;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">0.0007</span><span class="p">,</span> <span class="mf">0.00005</span><span class="p">)),</span>
        <span class="s1">&#39;EURUSD&#39;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">0.0002</span><span class="p">,</span> <span class="mf">0.00003</span><span class="p">)),</span>
        <span class="s1">&#39;USDJPY&#39;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.003</span><span class="p">)),</span>
    <span class="p">}[</span><span class="n">symbol</span><span class="p">],</span>
    <span class="n">symbol_max_orders</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">multiprocessing_processes</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">prices</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;prices[</span><span class="si">{</span><span class="n">symbol</span><span class="si">}</span><span class="s2">].shape:&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">prices</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;signal_features.shape:&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">signal_features</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;features_shape:&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">features_shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>prices[GBPCAD].shape: (88, 2)
prices[EURUSD].shape: (88, 2)
prices[USDJPY].shape: (88, 2)
signal_features.shape: (88, 6)
features_shape: (10, 6)
</pre></div>
</div>
</div>
</div>
<p>In this section of our Jupyter Notebook, we demonstrate a basic loop for simulating a trading environment using the setup we previously created with <code class="docutils literal notranslate"><span class="pre">gym_mtsim</span></code>. This loop is fundamental for training reinforcement learning (RL) agents, where they interact with the environment, receive feedback (rewards), and adjust their actions accordingly.</p>
<p>Here’s a detailed explanation of the code snippet and its role in the RL context:</p>
<ol class="arabic simple">
<li><p><strong>Environment Reset (<code class="docutils literal notranslate"><span class="pre">env.reset()</span></code>):</strong></p>
<ul class="simple">
<li><p>This initializes or resets the environment to a starting state. It’s akin to starting a new trading day or session, where the RL agent begins with a clean slate.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reset</span></code> method returns an initial observation, providing the agent with the current state of the market.</p></li>
</ul>
</li>
<li><p><strong>Trading Loop:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">True:</span></code> loop represents the continuous process of trading in a market. Each iteration of the loop is analogous to a single step or action taken by the RL agent in the environment.</p></li>
</ul>
</li>
<li><p><strong>Sampling an Action (<code class="docutils literal notranslate"><span class="pre">env.action_space.sample()</span></code>):</strong></p>
<ul class="simple">
<li><p>At each step, an action is selected randomly from the action space. In a more sophisticated RL setup, this is where the agent’s policy or decision-making logic would determine the action based on the current state (observation).</p></li>
<li><p>The action could involve buying, selling, holding, or other trading actions specific to the environment’s design.</p></li>
</ul>
</li>
<li><p><strong>Taking a Step (<code class="docutils literal notranslate"><span class="pre">env.step(action)</span></code>):</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">step</span></code> method advances the environment by one time step using the chosen action. It returns several important pieces of information:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">observation</span></code>: The new state of the market after the action is taken.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reward</span></code>: The immediate reward received after taking the action, which is crucial for RL as it guides the agent’s learning process.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">done</span></code>: A boolean indicating whether the episode (trading session) has ended (e.g., due to bankruptcy, reaching a time limit, etc.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code>: A dictionary containing supplementary information such as balance, equity, margin levels, etc.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Handling the End of an Episode (<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">done:</span></code>):</strong></p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">done</span></code> is True, it signals the end of the trading episode. This can trigger the agent to evaluate its performance and learn from the episode.</p></li>
<li><p>The code then prints out important financial metrics from the <code class="docutils literal notranslate"><span class="pre">info</span></code> dictionary:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">balance</span></code>, <code class="docutils literal notranslate"><span class="pre">equity</span></code>, <code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">free_margin</span></code>, and <code class="docutils literal notranslate"><span class="pre">margin_level</span></code> provide insights into the financial status at the end of the episode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step_reward</span></code> gives the reward obtained in the final step, which could be used for further analysis or learning.</p></li>
</ul>
</li>
</ul>
</li>
</ol>
<p>This loop forms the core of an RL training process in financial market simulation. In a complete RL application, the agent would not randomly select actions but instead follow a strategy based on its learning and the observed states. The</p>
<p>feedback from the environment in terms of rewards and state transitions guides the agent to refine its strategy over time, aiming to maximize cumulative rewards, which in the context of trading, could align with maximizing profit or minimizing risk.</p>
<p>In subsequent sections of our notebook, we will explore how to replace the random action selection with a decision-making policy driven by RL algorithms. We will also look into how the agent learns from the environment’s feedback, adjusts its trading strategy, and improves its performance over successive trading episodes. This iterative learning process is at the heart of applying RL in financial trading simulations, providing valuable insights and practical skills in leveraging AI for quantitative finance.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="n">observation</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">action</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">action_space</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
    <span class="n">observation</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;balance: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;balance&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, equity: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;equity&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, margin: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;margin&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;free_margin: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;free_margin&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, margin_level: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;margin_level&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;step_reward: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;step_reward&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>balance: 6257.282588625643, equity: 6096.474270944401, margin: 3989.7984
free_margin: 2106.6758709444007, margin_level: 1.5280156187702116
step_reward: -160.80831768124244
</pre></div>
</div>
</div>
</div>
<section id="custom-accuracy">
<h3>Custom accuracy<a class="headerlink" href="#custom-accuracy" title="Permalink to this heading">#</a></h3>
<p>In the realm of stock trading using reinforcement learning, the tradtional concept of accuracy, as used in supervised learning, does not directly apply. In supervised learning, accuracy is typically a measure of how many predictions a model got right.
However, in stock trading, success is not just about the requency of correct predictions. but also about the quality and profitability of the trades made. Therefore, we need a different approach to measure the performance of an RL model in sotck trading. This is where the concept of custom accuracy, specifically designed for trading, comes into play.</p>
<section id="custom-accuracy-profitable-trades-ratio">
<h4>Custom accuracy: Profitable Trades Ratio<a class="headerlink" href="#custom-accuracy-profitable-trades-ratio" title="Permalink to this heading">#</a></h4>
<p>The <em>Profitable Trades Ratio</em> is straightforward yet effective metric for assessing the performance of a stock trading RL model. This metric focuses on the proportion of trades that resulted in a profit, regardless of the size of the profit</p>
<p><strong>Definition</strong>
Profitable Trades Ration is defined as the ratio of the number of profitable trades to the total number of trades made by the model.</p>
<div class="math notranslate nohighlight">
\[
Profitable\ Trades\ Ratio = \frac{Number\ Of\ Profitable\ Trades}{Number\ Of\ Total\ Trades}
\]</div>
<p><strong>Advantages</strong></p>
<ul class="simple">
<li><p><em>Simplicity</em>: The metric is straightforward to calculate and understand.</p></li>
<li><p><em>Direct Relevance</em>: It directly relates to the fundamental goal of trading, which is to make profitable trades.</p></li>
</ul>
<p><strong>Limitations</strong></p>
<ul class="simple">
<li><p><em>Does not reflect magnitude</em>: It doesn’t account for the size of the profit or loss in each trade.</p></li>
<li><p><em>Risk ignorance</em>: It does not consider the risk involved in achieving the profits.</p></li>
<li><p><em>May not represent overall performance</em>: A few large losses could offset many small wins, which this metric would not reveal.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_profitable_trades_ratio</span><span class="p">(</span><span class="n">trades</span><span class="p">):</span>
    <span class="n">profitable_trades</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">trade</span> <span class="ow">in</span> <span class="n">trades</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()</span> <span class="k">if</span> <span class="n">trade</span><span class="p">[</span><span class="s1">&#39;Exit Price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">trade</span><span class="p">[</span><span class="s1">&#39;Entry Price&#39;</span><span class="p">])</span>
    <span class="n">total_trades</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">trades</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">profitable_trades</span> <span class="o">/</span> <span class="n">total_trades</span> <span class="k">if</span> <span class="n">total_trades</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<p>Printing the results</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="n">state</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

<span class="n">custom_accuracy</span> <span class="o">=</span> <span class="n">calculate_profitable_trades_ratio</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;profitable trades ratio: </span><span class="si">{</span><span class="n">custom_accuracy</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">state</span><span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>profitable trades ratio: 0.5833333333333334
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>Symbol</th>
      <th>Type</th>
      <th>Volume</th>
      <th>Entry Time</th>
      <th>Entry Price</th>
      <th>Exit Time</th>
      <th>Exit Price</th>
      <th>Profit</th>
      <th>Margin</th>
      <th>Fee</th>
      <th>Closed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>12</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>3.36</td>
      <td>2021-09-02 00:00:00+00:00</td>
      <td>1.18744</td>
      <td>2021-09-03 00:00:00+00:00</td>
      <td>1.18772</td>
      <td>-160.808318</td>
      <td>3989.798400</td>
      <td>0.000199</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>11</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>6.16</td>
      <td>2021-08-27 00:00:00+00:00</td>
      <td>1.17955</td>
      <td>2021-09-01 00:00:00+00:00</td>
      <td>1.18384</td>
      <td>-2787.425464</td>
      <td>7266.028000</td>
      <td>0.000235</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>0.21</td>
      <td>2021-08-12 00:00:00+00:00</td>
      <td>1.17296</td>
      <td>2021-08-13 00:00:00+00:00</td>
      <td>1.17962</td>
      <td>-145.195089</td>
      <td>246.321600</td>
      <td>0.000254</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>1.85</td>
      <td>2021-07-12 00:00:00+00:00</td>
      <td>1.18606</td>
      <td>2021-07-14 00:00:00+00:00</td>
      <td>1.18358</td>
      <td>432.181706</td>
      <td>2194.211000</td>
      <td>0.000144</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>4.22</td>
      <td>2021-07-08 00:00:00+00:00</td>
      <td>1.18449</td>
      <td>2021-07-09 00:00:00+00:00</td>
      <td>1.18774</td>
      <td>-1471.050459</td>
      <td>4998.547800</td>
      <td>0.000236</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>7</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>2.75</td>
      <td>2021-07-02 00:00:00+00:00</td>
      <td>1.18646</td>
      <td>2021-07-07 00:00:00+00:00</td>
      <td>1.17903</td>
      <td>1989.132017</td>
      <td>3262.765000</td>
      <td>0.000197</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>GBPCAD</td>
      <td>Buy</td>
      <td>1.03</td>
      <td>2021-06-24 00:00:00+00:00</td>
      <td>1.71493</td>
      <td>2021-06-25 00:00:00+00:00</td>
      <td>1.70721</td>
      <td>-707.728647</td>
      <td>1433.457415</td>
      <td>0.000730</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7</th>
      <td>5</td>
      <td>EURUSD</td>
      <td>Buy</td>
      <td>4.01</td>
      <td>2021-06-14 00:00:00+00:00</td>
      <td>1.21200</td>
      <td>2021-06-15 00:00:00+00:00</td>
      <td>1.21264</td>
      <td>204.656503</td>
      <td>4860.120000</td>
      <td>0.000130</td>
      <td>True</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4</td>
      <td>USDJPY</td>
      <td>Buy</td>
      <td>2.49</td>
      <td>2021-06-08 00:00:00+00:00</td>
      <td>109.49200</td>
      <td>2021-06-10 00:00:00+00:00</td>
      <td>109.31900</td>
      <td>-443.671597</td>
      <td>2490.000000</td>
      <td>0.021786</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9</th>
      <td>3</td>
      <td>USDJPY</td>
      <td>Buy</td>
      <td>5.98</td>
      <td>2021-06-07 00:00:00+00:00</td>
      <td>109.23800</td>
      <td>2021-06-08 00:00:00+00:00</td>
      <td>109.49200</td>
      <td>1292.026249</td>
      <td>5980.000000</td>
      <td>0.017434</td>
      <td>True</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2</td>
      <td>EURUSD</td>
      <td>Sell</td>
      <td>1.99</td>
      <td>2021-05-26 00:00:00+00:00</td>
      <td>1.21922</td>
      <td>2021-05-27 00:00:00+00:00</td>
      <td>1.21934</td>
      <td>-68.261126</td>
      <td>2426.247800</td>
      <td>0.000223</td>
      <td>True</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1</td>
      <td>EURUSD</td>
      <td>Buy</td>
      <td>4.10</td>
      <td>2021-05-18 00:00:00+00:00</td>
      <td>1.22219</td>
      <td>2021-05-19 00:00:00+00:00</td>
      <td>1.21744</td>
      <td>-2037.381504</td>
      <td>5010.979000</td>
      <td>0.000219</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Render in <strong>simple_figure</strong> mode</p>
<ul class="simple">
<li><p>Each <em>symbol</em> is illustrated in a different color</p></li>
<li><p>The <strong>green/red</strong> triangle show successful <strong>buy/sell</strong> actions</p></li>
<li><p>The <strong>grey</strong> triangles indicate that the <strong>buy/sell</strong> actions encountered and <strong>error</strong></p></li>
<li><p>The <strong>black</strong> vertical bars specify <strong>close</strong> actions</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;simple_figure&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2870a6ccf20d0a1d8926d31892fb7a380446f0ef8b9a4b97add7bbb3596fbd72.png" src="../_images/2870a6ccf20d0a1d8926d31892fb7a380446f0ef8b9a4b97add7bbb3596fbd72.png" />
</div>
</div>
<p>Render in <strong>advanced_mode</strong> figure</p>
<ul class="simple">
<li><p>Clicking on a symbol name will hide/show its plot</p></li>
<li><p>Hovering over points and markers will display their details</p></li>
<li><p>The size of the triangles indicates their relative volume</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;advanced_figure&#39;</span><span class="p">,</span> <span class="n">time_format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>                            <div id="56190b6f-bb14-4507-849f-b6910b351797" class="plotly-graph-div" style="height:600px; width:1400px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("56190b6f-bb14-4507-849f-b6910b351797")) {                    Plotly.newPlot(                        "56190b6f-bb14-4507-849f-b6910b351797",                        [{"hovertext":["balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 5010.979000\u003cbr\u003efree margin: 2951.639496\u003cbr\u003emargin level: 1.589034","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 2426.247800\u003cbr\u003efree margin: 5468.109570\u003cbr\u003emargin level: 3.253731","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 9186.383618\u003cbr\u003emargin: 5980.000000\u003cbr\u003efree margin: 3206.383618\u003cbr\u003emargin level: 1.536185","balance: 9186.383618 USD\u003cbr\u003eequity: 9423.108104\u003cbr\u003emargin: 2490.000000\u003cbr\u003efree margin: 6933.108104\u003cbr\u003emargin level: 3.784381","balance: 9186.383618 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 2490.000000\u003cbr\u003efree margin: 6252.712021\u003cbr\u003emargin level: 3.511129","balance: 8742.712021 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8742.712021\u003cbr\u003emargin level: inf","balance: 8742.712021 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8742.712021\u003cbr\u003emargin level: inf","balance: 8742.712021 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 4860.120000\u003cbr\u003efree margin: 4087.248524\u003cbr\u003emargin level: 1.840977","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 1433.457415\u003cbr\u003efree margin: 6806.182462\u003cbr\u003emargin level: 5.748088","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8218.521895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 4955.756895\u003cbr\u003emargin level: 2.518883","balance: 8239.639877 USD\u003cbr\u003eequity: 9326.771895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 6064.006895\u003cbr\u003emargin level: 2.858548","balance: 8239.639877 USD\u003cbr\u003eequity: 10228.771895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 6966.006895\u003cbr\u003emargin level: 3.135001","balance: 10228.771895 USD\u003cbr\u003eequity: 10228.771895\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10228.771895\u003cbr\u003emargin level: inf","balance: 10228.771895 USD\u003cbr\u003eequity: 8757.721436\u003cbr\u003emargin: 4998.547800\u003cbr\u003efree margin: 3759.173636\u003cbr\u003emargin level: 1.752053","balance: 8757.721436 USD\u003cbr\u003eequity: 8757.721436\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8757.721436\u003cbr\u003emargin level: inf","balance: 8757.721436 USD\u003cbr\u003eequity: 10286.953142\u003cbr\u003emargin: 2194.211000\u003cbr\u003efree margin: 8092.742142\u003cbr\u003emargin level: 4.688224","balance: 8757.721436 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 2194.211000\u003cbr\u003efree margin: 6995.692142\u003cbr\u003emargin level: 4.188250","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 246.321600\u003cbr\u003efree margin: 8798.386453\u003cbr\u003emargin level: 36.719102","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 8856.802589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: 1590.774589\u003cbr\u003emargin level: 1.218933","balance: 9044.708053 USD\u003cbr\u003eequity: 8111.442589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: 845.414589\u003cbr\u003emargin level: 1.116352","balance: 9044.708053 USD\u003cbr\u003eequity: 6257.282589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: -1008.745411\u003cbr\u003emargin level: 0.861170","balance: 6257.282589 USD\u003cbr\u003eequity: 6257.282589\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 6257.282589\u003cbr\u003emargin level: inf","balance: 6257.282589 USD\u003cbr\u003eequity: 6096.474271\u003cbr\u003emargin: 3989.798400\u003cbr\u003efree margin: 2106.675871\u003cbr\u003emargin level: 1.528016"],"legendgroup":"g1","line":{"color":"rgba(0.12156862745098039, 0.4666666666666667, 0.7058823529411765, 1.0)"},"mode":"lines+markers","name":"GBPCAD","opacity":1.0,"x":["2021-05-05T00:00:00+00:00","2021-05-06T00:00:00+00:00","2021-05-07T00:00:00+00:00","2021-05-10T00:00:00+00:00","2021-05-11T00:00:00+00:00","2021-05-12T00:00:00+00:00","2021-05-13T00:00:00+00:00","2021-05-14T00:00:00+00:00","2021-05-17T00:00:00+00:00","2021-05-18T00:00:00+00:00","2021-05-19T00:00:00+00:00","2021-05-20T00:00:00+00:00","2021-05-21T00:00:00+00:00","2021-05-24T00:00:00+00:00","2021-05-25T00:00:00+00:00","2021-05-26T00:00:00+00:00","2021-05-27T00:00:00+00:00","2021-05-28T00:00:00+00:00","2021-05-31T00:00:00+00:00","2021-06-01T00:00:00+00:00","2021-06-02T00:00:00+00:00","2021-06-03T00:00:00+00:00","2021-06-04T00:00:00+00:00","2021-06-07T00:00:00+00:00","2021-06-08T00:00:00+00:00","2021-06-09T00:00:00+00:00","2021-06-10T00:00:00+00:00","2021-06-11T00:00:00+00:00","2021-06-14T00:00:00+00:00","2021-06-15T00:00:00+00:00","2021-06-16T00:00:00+00:00","2021-06-17T00:00:00+00:00","2021-06-18T00:00:00+00:00","2021-06-21T00:00:00+00:00","2021-06-22T00:00:00+00:00","2021-06-23T00:00:00+00:00","2021-06-24T00:00:00+00:00","2021-06-25T00:00:00+00:00","2021-06-28T00:00:00+00:00","2021-06-29T00:00:00+00:00","2021-06-30T00:00:00+00:00","2021-07-01T00:00:00+00:00","2021-07-02T00:00:00+00:00","2021-07-05T00:00:00+00:00","2021-07-06T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-08T00:00:00+00:00","2021-07-09T00:00:00+00:00","2021-07-12T00:00:00+00:00","2021-07-13T00:00:00+00:00","2021-07-14T00:00:00+00:00","2021-07-15T00:00:00+00:00","2021-07-16T00:00:00+00:00","2021-07-19T00:00:00+00:00","2021-07-20T00:00:00+00:00","2021-07-21T00:00:00+00:00","2021-07-22T00:00:00+00:00","2021-07-23T00:00:00+00:00","2021-07-26T00:00:00+00:00","2021-07-27T00:00:00+00:00","2021-07-28T00:00:00+00:00","2021-07-29T00:00:00+00:00","2021-07-30T00:00:00+00:00","2021-08-02T00:00:00+00:00","2021-08-03T00:00:00+00:00","2021-08-04T00:00:00+00:00","2021-08-05T00:00:00+00:00","2021-08-06T00:00:00+00:00","2021-08-09T00:00:00+00:00","2021-08-10T00:00:00+00:00","2021-08-11T00:00:00+00:00","2021-08-12T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-08-16T00:00:00+00:00","2021-08-17T00:00:00+00:00","2021-08-18T00:00:00+00:00","2021-08-19T00:00:00+00:00","2021-08-20T00:00:00+00:00","2021-08-23T00:00:00+00:00","2021-08-24T00:00:00+00:00","2021-08-25T00:00:00+00:00","2021-08-26T00:00:00+00:00","2021-08-27T00:00:00+00:00","2021-08-30T00:00:00+00:00","2021-08-31T00:00:00+00:00","2021-09-01T00:00:00+00:00","2021-09-02T00:00:00+00:00","2021-09-03T00:00:00+00:00"],"y":[1.70525,1.68648,1.69619,1.7070699999999999,1.71108,1.70468,1.7082899999999999,1.70635,1.7059199999999999,1.71128,1.71211,1.7107,1.70726,1.7044000000000001,1.7066,1.71089,1.71345,1.71356,1.7132399999999999,1.70755,1.70462,1.7068400000000001,1.70999,1.71255,1.7139199999999999,1.70927,1.71433,1.71691,1.71341,1.71492,1.71638,1.71949,1.72017,1.72173,1.7158099999999998,1.7177,1.7149299999999998,1.70721,1.71244,1.71535,1.71437,1.71059,1.70511,1.70716,1.71879,1.72167,1.72692,1.7307000000000001,1.72832,1.72767,1.73236,1.7407,1.73684,1.74244,1.7273800000000001,1.72183,1.72851,1.72728,1.73336,1.7481900000000001,1.7405300000000001,1.73688,1.73335,1.73577,1.7441499999999999,1.7412999999999998,1.7408299999999999,1.7419799999999999,1.7408000000000001,1.7316500000000001,1.73282,1.72889,1.7357200000000002,1.7402199999999999,1.7349700000000001,1.74061,1.74874,1.7468,1.73506,1.72784,1.73259,1.7377,1.7353399999999999,1.7338900000000002,1.73501,1.7372800000000002,1.73603,1.7362600000000001],"yaxis":"y","type":"scatter"},{"hovertext":["order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -88.649371\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49647.13488780763, order profit=-2101.4885190494247, free margin=10000.0)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 14.337197\u003cbr\u003emodified volume: 14.3400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=20342.677314227432, order profit=-787.8408544807429, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -18.111078\u003cbr\u003emodified volume: 18.1100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=25632.73569785499, order profit=-1069.5612242687848, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 41.154598\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49507.25646699986, order profit=-1831.5996222978902, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -96.890039\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49400.775481582314, order profit=-2221.119814905377, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -86.628537\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49658.1246118816, order profit=-2425.5082489355536, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 72.216616\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49584.61806969573, order profit=-2179.0820506746977, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -64.112470\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49575.602200059635, order profit=-2082.9679186880862, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0025\u003cbr\u003ehold: False\u003cbr\u003evolume: 32.959276\u003cbr\u003emodified volume: 32.9600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=46731.945755302775, order profit=-1847.318280212984, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0001\u003cbr\u003ehold: False\u003cbr\u003evolume: 68.616301\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49408.21096447036, order profit=-2021.4289502714519, free margin=6933.108104227871)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -48.277462\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49617.58236305902, order profit=-2074.310001588025, free margin=6252.7120213993185)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -73.732794\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49394.48613725474, order profit=-2447.383632259393, free margin=8742.712021399318)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 42.531399\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48937.159894424716, order profit=-2113.1418524071432, free margin=8947.368523973133)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -36.253631\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48862.149399783804, order profit=-1928.1077146065757, free margin=8947.368523973133)","order id: 6\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 1.034334\u003cbr\u003emodified volume: 1.0300\u003cbr\u003efee: 0.000730\u003cbr\u003emargin: 1433.457415\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -71.665877\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48585.07135016466, order profit=-1894.8081402349944, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -59.163977\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48401.185770750984, order profit=-1821.5053926596124, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 7.454418\u003cbr\u003emodified volume: 7.4500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=10247.996059667887, order profit=-470.4083496173217, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -39.258859\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48415.15885684652, order profit=-2255.0784351883626, free margin=4955.75689454024)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -75.408855\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48279.37217575232, order profit=-1629.4274639884436, free margin=6966.006894540222)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 45.558599\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48583.01676157127, order profit=-2123.0273800368786, free margin=8757.721435955922)","order id: \u003cbr\u003ehold probability: 0.3056\u003cbr\u003ehold: False\u003cbr\u003evolume: 70.534950\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48323.730140971136, order profit=-1885.5180016655918, free margin=8092.742141771239)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -18.132794\u003cbr\u003emodified volume: 18.1300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=25060.06447873075, order profit=-1013.6660033144746, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0140\u003cbr\u003ehold: False\u003cbr\u003evolume: 41.144514\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=47848.94942489055, order profit=-1905.9328275276337, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 38.181654\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=47980.931528662426, order profit=-2081.4027037684723, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 64.621665\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48112.117401754025, order profit=-1781.2231073525852, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -34.640230\u003cbr\u003emodified volume: 34.6400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48057.91776777849, order profit=-1973.7091609733752, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 66.657012\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48640.67165966689, order profit=-1985.751796644768, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -42.889244\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48588.34397044004, order profit=-1858.5056210620257, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 76.741367\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48700.617480933084, order profit=-1819.6881288140678, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -74.020442\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48600.87719298245, order profit=-1966.725716675113, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 42.879367\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48748.699854383696, order profit=-2123.952050371312, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 95.323564\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48411.839414659094, order profit=-1910.3944401056701, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 20.877315\u003cbr\u003emodified volume: 20.8800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=28830.71231760788, order profit=-1068.7928365503728, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 19.798165\u003cbr\u003emodified volume: 19.8000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=27462.82673144693, order profit=-1173.9041509790513, free margin=8798.386452739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -87.365751\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48450.18773068601, order profit=-1997.2202525884222, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 94.528720\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48046.271063900786, order profit=-1931.645554027649, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 96.100963\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48167.25710109932, order profit=-1899.3177325738266, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -20.749713\u003cbr\u003emodified volume: 20.7500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=28424.231794030937, order profit=-1139.6719570524313, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -7.598337\u003cbr\u003emodified volume: 7.6000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=10453.655092537505, order profit=-432.99777144114233, free margin=1590.7745886257135)","order id: \u003cbr\u003ehold probability: 0.3977\u003cbr\u003ehold: False\u003cbr\u003evolume: -84.237757\u003cbr\u003emodified volume: 35.0000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=48137.79736660616, order profit=-1873.225042752824, free margin=845.4145886256165)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -13.514809\u003cbr\u003emodified volume: 13.5100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=18685.87693999171, order profit=-722.0950505445231, free margin=6257.282588625643)"],"legendgroup":"g1","marker":{"color":["gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","green","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray"],"size":[30.0,17.013714285714286,19.383428571428574,30.0,30.0,30.0,30.0,30.0,28.717714285714287,30.0,30.0,30.0,30.0,30.0,8.647428571428572,30.0,30.0,12.682857142857143,30.0,30.0,30.0,30.0,19.396,30.0,30.0,30.0,29.773714285714288,30.0,30.0,30.0,30.0,30.0,30.0,21.12457142857143,20.44571428571429,30.0,30.0,30.0,21.042857142857144,12.777142857142858,30.0,16.492],"symbol":["triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-up","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down"]},"mode":"markers","name":"GBPCAD","showlegend":false,"x":["2021-05-18T00:00:00+00:00","2021-05-20T00:00:00+00:00","2021-05-24T00:00:00+00:00","2021-05-25T00:00:00+00:00","2021-05-26T00:00:00+00:00","2021-05-28T00:00:00+00:00","2021-06-02T00:00:00+00:00","2021-06-04T00:00:00+00:00","2021-06-07T00:00:00+00:00","2021-06-09T00:00:00+00:00","2021-06-10T00:00:00+00:00","2021-06-11T00:00:00+00:00","2021-06-16T00:00:00+00:00","2021-06-23T00:00:00+00:00","2021-06-24T00:00:00+00:00","2021-06-25T00:00:00+00:00","2021-06-30T00:00:00+00:00","2021-07-01T00:00:00+00:00","2021-07-05T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-12T00:00:00+00:00","2021-07-13T00:00:00+00:00","2021-07-15T00:00:00+00:00","2021-07-19T00:00:00+00:00","2021-07-21T00:00:00+00:00","2021-07-23T00:00:00+00:00","2021-07-27T00:00:00+00:00","2021-07-28T00:00:00+00:00","2021-08-02T00:00:00+00:00","2021-08-03T00:00:00+00:00","2021-08-04T00:00:00+00:00","2021-08-05T00:00:00+00:00","2021-08-10T00:00:00+00:00","2021-08-12T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-08-16T00:00:00+00:00","2021-08-24T00:00:00+00:00","2021-08-25T00:00:00+00:00","2021-08-26T00:00:00+00:00","2021-08-30T00:00:00+00:00","2021-08-31T00:00:00+00:00","2021-09-02T00:00:00+00:00"],"y":[1.71128,1.7107,1.7044000000000001,1.7066,1.71089,1.71356,1.70462,1.70999,1.71255,1.70927,1.71433,1.71691,1.71638,1.7177,1.7149299999999998,1.70721,1.71437,1.71059,1.70716,1.72167,1.72832,1.72767,1.7407,1.74244,1.72183,1.72728,1.7481900000000001,1.7405300000000001,1.73577,1.7441499999999999,1.7412999999999998,1.7408299999999999,1.7316500000000001,1.72889,1.7357200000000002,1.7402199999999999,1.72784,1.73259,1.7377,1.7338900000000002,1.73501,1.73603],"yaxis":"y","type":"scatter"},{"hovertext":["order id: 6\u003cbr\u003eorder type: Buy\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 1433.457415\u003cbr\u003eprofit: -707.728647"],"legendgroup":"g1","marker":{"color":"black","line":{"width":1.5},"size":7,"symbol":"line-ns"},"mode":"markers","name":"GBPCAD","showlegend":false,"x":["2021-06-25T00:00:00+00:00"],"y":[1.70721],"yaxis":"y","type":"scatter"},{"hovertext":["balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 5010.979000\u003cbr\u003efree margin: 2951.639496\u003cbr\u003emargin level: 1.589034","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 2426.247800\u003cbr\u003efree margin: 5468.109570\u003cbr\u003emargin level: 3.253731","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 9186.383618\u003cbr\u003emargin: 5980.000000\u003cbr\u003efree margin: 3206.383618\u003cbr\u003emargin level: 1.536185","balance: 9186.383618 USD\u003cbr\u003eequity: 9423.108104\u003cbr\u003emargin: 2490.000000\u003cbr\u003efree margin: 6933.108104\u003cbr\u003emargin level: 3.784381","balance: 9186.383618 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 2490.000000\u003cbr\u003efree margin: 6252.712021\u003cbr\u003emargin level: 3.511129","balance: 8742.712021 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8742.712021\u003cbr\u003emargin level: inf","balance: 8742.712021 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8742.712021\u003cbr\u003emargin level: inf","balance: 8742.712021 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 4860.120000\u003cbr\u003efree margin: 4087.248524\u003cbr\u003emargin level: 1.840977","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 1433.457415\u003cbr\u003efree margin: 6806.182462\u003cbr\u003emargin level: 5.748088","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8218.521895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 4955.756895\u003cbr\u003emargin level: 2.518883","balance: 8239.639877 USD\u003cbr\u003eequity: 9326.771895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 6064.006895\u003cbr\u003emargin level: 2.858548","balance: 8239.639877 USD\u003cbr\u003eequity: 10228.771895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 6966.006895\u003cbr\u003emargin level: 3.135001","balance: 10228.771895 USD\u003cbr\u003eequity: 10228.771895\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10228.771895\u003cbr\u003emargin level: inf","balance: 10228.771895 USD\u003cbr\u003eequity: 8757.721436\u003cbr\u003emargin: 4998.547800\u003cbr\u003efree margin: 3759.173636\u003cbr\u003emargin level: 1.752053","balance: 8757.721436 USD\u003cbr\u003eequity: 8757.721436\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8757.721436\u003cbr\u003emargin level: inf","balance: 8757.721436 USD\u003cbr\u003eequity: 10286.953142\u003cbr\u003emargin: 2194.211000\u003cbr\u003efree margin: 8092.742142\u003cbr\u003emargin level: 4.688224","balance: 8757.721436 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 2194.211000\u003cbr\u003efree margin: 6995.692142\u003cbr\u003emargin level: 4.188250","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 246.321600\u003cbr\u003efree margin: 8798.386453\u003cbr\u003emargin level: 36.719102","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 8856.802589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: 1590.774589\u003cbr\u003emargin level: 1.218933","balance: 9044.708053 USD\u003cbr\u003eequity: 8111.442589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: 845.414589\u003cbr\u003emargin level: 1.116352","balance: 9044.708053 USD\u003cbr\u003eequity: 6257.282589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: -1008.745411\u003cbr\u003emargin level: 0.861170","balance: 6257.282589 USD\u003cbr\u003eequity: 6257.282589\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 6257.282589\u003cbr\u003emargin level: inf","balance: 6257.282589 USD\u003cbr\u003eequity: 6096.474271\u003cbr\u003emargin: 3989.798400\u003cbr\u003efree margin: 2106.675871\u003cbr\u003emargin level: 1.528016"],"legendgroup":"g2","line":{"color":"rgba(0.5643983083429451, 0.36993464052287583, 0.5132641291810843, 1.0)"},"mode":"lines+markers","name":"EURUSD","opacity":1.0,"x":["2021-05-05T00:00:00+00:00","2021-05-06T00:00:00+00:00","2021-05-07T00:00:00+00:00","2021-05-10T00:00:00+00:00","2021-05-11T00:00:00+00:00","2021-05-12T00:00:00+00:00","2021-05-13T00:00:00+00:00","2021-05-14T00:00:00+00:00","2021-05-17T00:00:00+00:00","2021-05-18T00:00:00+00:00","2021-05-19T00:00:00+00:00","2021-05-20T00:00:00+00:00","2021-05-21T00:00:00+00:00","2021-05-24T00:00:00+00:00","2021-05-25T00:00:00+00:00","2021-05-26T00:00:00+00:00","2021-05-27T00:00:00+00:00","2021-05-28T00:00:00+00:00","2021-05-31T00:00:00+00:00","2021-06-01T00:00:00+00:00","2021-06-02T00:00:00+00:00","2021-06-03T00:00:00+00:00","2021-06-04T00:00:00+00:00","2021-06-07T00:00:00+00:00","2021-06-08T00:00:00+00:00","2021-06-09T00:00:00+00:00","2021-06-10T00:00:00+00:00","2021-06-11T00:00:00+00:00","2021-06-14T00:00:00+00:00","2021-06-15T00:00:00+00:00","2021-06-16T00:00:00+00:00","2021-06-17T00:00:00+00:00","2021-06-18T00:00:00+00:00","2021-06-21T00:00:00+00:00","2021-06-22T00:00:00+00:00","2021-06-23T00:00:00+00:00","2021-06-24T00:00:00+00:00","2021-06-25T00:00:00+00:00","2021-06-28T00:00:00+00:00","2021-06-29T00:00:00+00:00","2021-06-30T00:00:00+00:00","2021-07-01T00:00:00+00:00","2021-07-02T00:00:00+00:00","2021-07-05T00:00:00+00:00","2021-07-06T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-08T00:00:00+00:00","2021-07-09T00:00:00+00:00","2021-07-12T00:00:00+00:00","2021-07-13T00:00:00+00:00","2021-07-14T00:00:00+00:00","2021-07-15T00:00:00+00:00","2021-07-16T00:00:00+00:00","2021-07-19T00:00:00+00:00","2021-07-20T00:00:00+00:00","2021-07-21T00:00:00+00:00","2021-07-22T00:00:00+00:00","2021-07-23T00:00:00+00:00","2021-07-26T00:00:00+00:00","2021-07-27T00:00:00+00:00","2021-07-28T00:00:00+00:00","2021-07-29T00:00:00+00:00","2021-07-30T00:00:00+00:00","2021-08-02T00:00:00+00:00","2021-08-03T00:00:00+00:00","2021-08-04T00:00:00+00:00","2021-08-05T00:00:00+00:00","2021-08-06T00:00:00+00:00","2021-08-09T00:00:00+00:00","2021-08-10T00:00:00+00:00","2021-08-11T00:00:00+00:00","2021-08-12T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-08-16T00:00:00+00:00","2021-08-17T00:00:00+00:00","2021-08-18T00:00:00+00:00","2021-08-19T00:00:00+00:00","2021-08-20T00:00:00+00:00","2021-08-23T00:00:00+00:00","2021-08-24T00:00:00+00:00","2021-08-25T00:00:00+00:00","2021-08-26T00:00:00+00:00","2021-08-27T00:00:00+00:00","2021-08-30T00:00:00+00:00","2021-08-31T00:00:00+00:00","2021-09-01T00:00:00+00:00","2021-09-02T00:00:00+00:00","2021-09-03T00:00:00+00:00"],"y":[1.20036,1.20646,1.21618,1.21282,1.2147000000000001,1.20705,1.20791,1.21441,1.21511,1.2221899999999999,1.21744,1.22269,1.21806,1.2215,1.22497,1.21922,1.21934,1.21896,1.2225,1.22126,1.221,1.21265,1.21662,1.21893,1.21726,1.21787,1.21751,1.21063,1.212,1.21264,1.19943,1.19069,1.18597,1.19185,1.19413,1.19258,1.19315,1.1937,1.19242,1.1896,1.1856,1.18497,1.18646,1.18634,1.18231,1.17903,1.18449,1.18774,1.18606,1.17765,1.18358,1.18118,1.18055,1.17987,1.17805,1.17946,1.17707,1.17689,1.18029,1.18165,1.18441,1.18865,1.1873,1.18688,1.18637,1.18367,1.18327,1.17611,1.17362,1.17203,1.17388,1.17296,1.17962,1.17768,1.17081,1.17108,1.16756,1.16996,1.1745700000000001,1.17555,1.17716,1.17515,1.1795499999999999,1.17962,1.18083,1.18384,1.18744,1.18772],"yaxis":"y2","type":"scatter"},{"hovertext":["order id: 1\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 4.100518\u003cbr\u003emodified volume: 4.1000\u003cbr\u003efee: 0.000219\u003cbr\u003emargin: 5010.979000\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 35.993521\u003cbr\u003emodified volume: 35.9900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=43815.66560000001, order profit=-873.1669239955594, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -16.433795\u003cbr\u003emodified volume: 16.4300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=20126.2571, order profit=-317.70094478329133, free margin=7962.618496246406)","order id: 2\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -1.986553\u003cbr\u003emodified volume: 1.9900\u003cbr\u003efee: 0.000223\u003cbr\u003emargin: 2426.247800\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 84.663274\u003cbr\u003emodified volume: 84.6600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=103197.15360000002, order profit=-1685.8811154837167, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -19.700762\u003cbr\u003emodified volume: 19.7000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=24058.822, order profit=-399.9929437953734, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -51.673231\u003cbr\u003emodified volume: 51.6700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=62862.7554, order profit=-1046.8672826854809, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 36.946882\u003cbr\u003emodified volume: 36.9500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=45039.463500000005, order profit=-740.0890908937645, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 50.143312\u003cbr\u003emodified volume: 50.1400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=61033.416399999995, order profit=-872.9210796160663, free margin=3206.383618396718)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 7.014819\u003cbr\u003emodified volume: 7.0100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=8537.2687, order profit=-138.41062040439832, free margin=6933.108104227871)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 63.660085\u003cbr\u003emodified volume: 63.6600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=77068.70580000001, order profit=-1298.2587869932013, free margin=8742.712021399318)","order id: 5\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 4.014272\u003cbr\u003emodified volume: 4.0100\u003cbr\u003efee: 0.000130\u003cbr\u003emargin: 4860.120000\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.1273\u003cbr\u003ehold: False\u003cbr\u003evolume: 87.593781\u003cbr\u003emodified volume: 87.5900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=103879.11230000001, order profit=-1850.8949396893674, free margin=8947.368523973133)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 30.850245\u003cbr\u003emodified volume: 30.8500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=36768.5725, order profit=-486.95156512532, free margin=8947.368523973133)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 31.957633\u003cbr\u003emodified volume: 31.9600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=38164.394799999995, order profit=-512.7595806870963, free margin=8947.368523973133)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -56.880629\u003cbr\u003emodified volume: 56.8800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=67897.656, order profit=-1246.0437688084228, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -45.881728\u003cbr\u003emodified volume: 45.8800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=54708.2296, order profit=-933.027919886708, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -40.134265\u003cbr\u003emodified volume: 40.1300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=47578.128000000004, order profit=-1003.5272411875746, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -40.344866\u003cbr\u003emodified volume: 40.3400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=47801.68980000001, order profit=-674.1719057248519, free margin=8239.63987711048)","order id: 7\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -2.750716\u003cbr\u003emodified volume: 2.7500\u003cbr\u003efee: 0.000197\u003cbr\u003emargin: 3262.765000\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -65.420820\u003cbr\u003emodified volume: 65.4200\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=77346.7202, order profit=-1546.7150942897526, free margin=6064.0068945402345)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -73.692529\u003cbr\u003emodified volume: 73.6900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=86882.7207, order profit=-1331.948124992926, free margin=10228.771894540221)","order id: 8\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -4.222355\u003cbr\u003emodified volume: 4.2200\u003cbr\u003efee: 0.000236\u003cbr\u003emargin: 4998.547800\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 73.401818\u003cbr\u003emodified volume: 73.4000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=87180.11600000001, order profit=-1479.9967656975093, free margin=8757.721435955922)","order id: 9\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -1.846379\u003cbr\u003emodified volume: 1.8500\u003cbr\u003efee: 0.000144\u003cbr\u003emargin: 2194.211000\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -97.442651\u003cbr\u003emodified volume: 97.4400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=114750.21600000001, order profit=-1828.501908261111, free margin=8092.742141771239)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -13.150982\u003cbr\u003emodified volume: 13.1500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=15515.290500000001, order profit=-241.87742364234768, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -86.071664\u003cbr\u003emodified volume: 86.0700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=101516.12219999998, order profit=-792.1345897028467, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -19.321800\u003cbr\u003emodified volume: 19.3200\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=22740.992400000003, order profit=-368.6307176232195, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -43.302046\u003cbr\u003emodified volume: 43.3000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=51106.557, order profit=-880.1230243140242, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 76.239325\u003cbr\u003emodified volume: 76.2400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=90088.996, order profit=-1549.3476003993428, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -93.306684\u003cbr\u003emodified volume: 93.3100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=110912.9315, order profit=-1577.8613844079293, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -15.782012\u003cbr\u003emodified volume: 15.7800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=18728.966399999998, order profit=-329.2424328107112, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 72.379376\u003cbr\u003emodified volume: 72.3800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=85674.03460000001, order profit=-1417.9492422339206, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0012\u003cbr\u003ehold: False\u003cbr\u003evolume: -20.873326\u003cbr\u003emodified volume: 20.8700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=24694.844900000004, order profit=-389.0657274324453, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0118\u003cbr\u003ehold: False\u003cbr\u003evolume: -84.471425\u003cbr\u003emodified volume: 84.4700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=99346.0117, order profit=-1915.3584147055217, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -90.634475\u003cbr\u003emodified volume: 90.6300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=106365.1806, order profit=-2418.4431193106107, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 56.032026\u003cbr\u003emodified volume: 56.0300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=65668.8409, order profit=-1024.1773914685457, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -39.265314\u003cbr\u003emodified volume: 39.2700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=46098.26760000001, order profit=-839.7647257809373, free margin=9189.90314177124)","order id: 10\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -0.212809\u003cbr\u003emodified volume: 0.2100\u003cbr\u003efee: 0.000254\u003cbr\u003emargin: 246.321600\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -56.720475\u003cbr\u003emodified volume: 56.7200\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=66908.04639999999, order profit=-1176.5565347538359, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 38.483820\u003cbr\u003emodified volume: 38.4800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=45235.16400000001, order profit=-796.5268733511842, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 44.483326\u003cbr\u003emodified volume: 44.4800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=52360.076799999995, order profit=-1015.1229815874391, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0003\u003cbr\u003ehold: False\u003cbr\u003evolume: -64.194468\u003cbr\u003emodified volume: 64.1900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=75432.87849999999, order profit=-1147.608389344158, free margin=9044.708052739074)","order id: 11\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -6.162373\u003cbr\u003emodified volume: 6.1600\u003cbr\u003efee: 0.000235\u003cbr\u003emargin: 7266.028000\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 55.312267\u003cbr\u003emodified volume: 55.3100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=65311.7073, order profit=-993.2863909345741, free margin=845.4145886256165)","order id: 12\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -3.357521\u003cbr\u003emodified volume: 3.3600\u003cbr\u003efee: 0.000199\u003cbr\u003emargin: 3989.798400\u003cbr\u003eerror: "],"legendgroup":"g2","marker":{"color":["green","gray","gray","red","gray","gray","gray","gray","gray","gray","gray","green","gray","gray","gray","gray","gray","gray","gray","red","gray","gray","red","gray","red","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","red","gray","gray","gray","gray","red","gray","red"],"size":[8.913325232887809,16.01721344673957,11.65998379910895,8.443296881328473,26.85905224787363,12.38841636289996,19.510125556905628,16.23106520858647,19.16929931146213,9.56156338598623,22.18104495747266,8.893276630214661,27.51174564601053,14.872215471850952,15.119481571486432,20.670716889428917,18.220332118266505,16.939449169704332,16.986229242608346,8.612596192790603,22.573106520858644,24.415350344268933,8.940056703118671,24.350749291211017,8.412110166059133,29.705953827460508,10.929323612798704,27.17314702308627,12.303766707168894,17.645605508302957,24.983394086674764,28.785945727014983,11.515188335358445,24.12353179424868,12.64904819765087,26.8167274200081,28.18894289185905,20.48136897529364,16.747873633049817,8.04678007290401,20.635074929121103,16.571891454029974,17.908464965573106,22.299108950992302,9.372215471850952,20.320980153908465,8.748481166464156],"symbol":["triangle-up","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-up","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down"]},"mode":"markers","name":"EURUSD","showlegend":false,"x":["2021-05-18T00:00:00+00:00","2021-05-19T00:00:00+00:00","2021-05-25T00:00:00+00:00","2021-05-26T00:00:00+00:00","2021-05-28T00:00:00+00:00","2021-06-01T00:00:00+00:00","2021-06-04T00:00:00+00:00","2021-06-07T00:00:00+00:00","2021-06-08T00:00:00+00:00","2021-06-09T00:00:00+00:00","2021-06-11T00:00:00+00:00","2021-06-14T00:00:00+00:00","2021-06-18T00:00:00+00:00","2021-06-21T00:00:00+00:00","2021-06-22T00:00:00+00:00","2021-06-25T00:00:00+00:00","2021-06-28T00:00:00+00:00","2021-06-30T00:00:00+00:00","2021-07-01T00:00:00+00:00","2021-07-02T00:00:00+00:00","2021-07-06T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-08T00:00:00+00:00","2021-07-09T00:00:00+00:00","2021-07-12T00:00:00+00:00","2021-07-13T00:00:00+00:00","2021-07-19T00:00:00+00:00","2021-07-21T00:00:00+00:00","2021-07-22T00:00:00+00:00","2021-07-26T00:00:00+00:00","2021-07-27T00:00:00+00:00","2021-07-29T00:00:00+00:00","2021-08-02T00:00:00+00:00","2021-08-04T00:00:00+00:00","2021-08-05T00:00:00+00:00","2021-08-06T00:00:00+00:00","2021-08-09T00:00:00+00:00","2021-08-10T00:00:00+00:00","2021-08-11T00:00:00+00:00","2021-08-12T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-08-24T00:00:00+00:00","2021-08-25T00:00:00+00:00","2021-08-26T00:00:00+00:00","2021-08-27T00:00:00+00:00","2021-08-31T00:00:00+00:00","2021-09-02T00:00:00+00:00"],"y":[1.2221899999999999,1.21744,1.22497,1.21922,1.21896,1.22126,1.21662,1.21893,1.21726,1.21787,1.21063,1.212,1.18597,1.19185,1.19413,1.1937,1.19242,1.1856,1.18497,1.18646,1.18231,1.17903,1.18449,1.18774,1.18606,1.17765,1.17987,1.17946,1.17707,1.18029,1.18165,1.18865,1.18688,1.18367,1.18327,1.17611,1.17362,1.17203,1.17388,1.17296,1.17962,1.17555,1.17716,1.17515,1.1795499999999999,1.18083,1.18744],"yaxis":"y2","type":"scatter"},{"hovertext":["order id: 1\u003cbr\u003eorder type: Buy\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 5010.979000\u003cbr\u003eprofit: -2037.381504","order id: 2\u003cbr\u003eorder type: Sell\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 2426.247800\u003cbr\u003eprofit: -68.261126","order id: 5\u003cbr\u003eorder type: Buy\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 4860.120000\u003cbr\u003eprofit: 204.656503","order id: 7\u003cbr\u003eorder type: Sell\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 3262.765000\u003cbr\u003eprofit: 1989.132017","order id: 8\u003cbr\u003eorder type: Sell\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 4998.547800\u003cbr\u003eprofit: -1471.050459","order id: 9\u003cbr\u003eorder type: Sell\u003cbr\u003eclose probability: 0.9998\u003cbr\u003emargin: 2194.211000\u003cbr\u003eprofit: 432.181706","order id: 10\u003cbr\u003eorder type: Sell\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 246.321600\u003cbr\u003eprofit: -145.195089","order id: 11\u003cbr\u003eorder type: Sell\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 7266.028000\u003cbr\u003eprofit: -2787.425464"],"legendgroup":"g2","marker":{"color":"black","line":{"width":1.5},"size":7,"symbol":"line-ns"},"mode":"markers","name":"EURUSD","showlegend":false,"x":["2021-05-19T00:00:00+00:00","2021-05-27T00:00:00+00:00","2021-06-15T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-09T00:00:00+00:00","2021-07-14T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-09-01T00:00:00+00:00"],"y":[1.21744,1.21934,1.21264,1.17903,1.18774,1.18358,1.17962,1.18384],"yaxis":"y2","type":"scatter"},{"hovertext":["balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 10000.000000\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10000.000000\u003cbr\u003emargin level: inf","balance: 10000.000000 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 5010.979000\u003cbr\u003efree margin: 2951.639496\u003cbr\u003emargin level: 1.589034","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7962.618496\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7962.618496\u003cbr\u003emargin level: inf","balance: 7962.618496 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 2426.247800\u003cbr\u003efree margin: 5468.109570\u003cbr\u003emargin level: 3.253731","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 7894.357370\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 7894.357370\u003cbr\u003emargin level: inf","balance: 7894.357370 USD\u003cbr\u003eequity: 9186.383618\u003cbr\u003emargin: 5980.000000\u003cbr\u003efree margin: 3206.383618\u003cbr\u003emargin level: 1.536185","balance: 9186.383618 USD\u003cbr\u003eequity: 9423.108104\u003cbr\u003emargin: 2490.000000\u003cbr\u003efree margin: 6933.108104\u003cbr\u003emargin level: 3.784381","balance: 9186.383618 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 2490.000000\u003cbr\u003efree margin: 6252.712021\u003cbr\u003emargin level: 3.511129","balance: 8742.712021 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8742.712021\u003cbr\u003emargin level: inf","balance: 8742.712021 USD\u003cbr\u003eequity: 8742.712021\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8742.712021\u003cbr\u003emargin level: inf","balance: 8742.712021 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 4860.120000\u003cbr\u003efree margin: 4087.248524\u003cbr\u003emargin level: 1.840977","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8947.368524\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8947.368524\u003cbr\u003emargin level: inf","balance: 8947.368524 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 1433.457415\u003cbr\u003efree margin: 6806.182462\u003cbr\u003emargin level: 5.748088","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8239.639877\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8239.639877\u003cbr\u003emargin level: inf","balance: 8239.639877 USD\u003cbr\u003eequity: 8218.521895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 4955.756895\u003cbr\u003emargin level: 2.518883","balance: 8239.639877 USD\u003cbr\u003eequity: 9326.771895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 6064.006895\u003cbr\u003emargin level: 2.858548","balance: 8239.639877 USD\u003cbr\u003eequity: 10228.771895\u003cbr\u003emargin: 3262.765000\u003cbr\u003efree margin: 6966.006895\u003cbr\u003emargin level: 3.135001","balance: 10228.771895 USD\u003cbr\u003eequity: 10228.771895\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 10228.771895\u003cbr\u003emargin level: inf","balance: 10228.771895 USD\u003cbr\u003eequity: 8757.721436\u003cbr\u003emargin: 4998.547800\u003cbr\u003efree margin: 3759.173636\u003cbr\u003emargin level: 1.752053","balance: 8757.721436 USD\u003cbr\u003eequity: 8757.721436\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 8757.721436\u003cbr\u003emargin level: inf","balance: 8757.721436 USD\u003cbr\u003eequity: 10286.953142\u003cbr\u003emargin: 2194.211000\u003cbr\u003efree margin: 8092.742142\u003cbr\u003emargin level: 4.688224","balance: 8757.721436 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 2194.211000\u003cbr\u003efree margin: 6995.692142\u003cbr\u003emargin level: 4.188250","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9189.903142\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9189.903142\u003cbr\u003emargin level: inf","balance: 9189.903142 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 246.321600\u003cbr\u003efree margin: 8798.386453\u003cbr\u003emargin level: 36.719102","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 9044.708053\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 9044.708053\u003cbr\u003emargin level: inf","balance: 9044.708053 USD\u003cbr\u003eequity: 8856.802589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: 1590.774589\u003cbr\u003emargin level: 1.218933","balance: 9044.708053 USD\u003cbr\u003eequity: 8111.442589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: 845.414589\u003cbr\u003emargin level: 1.116352","balance: 9044.708053 USD\u003cbr\u003eequity: 6257.282589\u003cbr\u003emargin: 7266.028000\u003cbr\u003efree margin: -1008.745411\u003cbr\u003emargin level: 0.861170","balance: 6257.282589 USD\u003cbr\u003eequity: 6257.282589\u003cbr\u003emargin: 0.000000\u003cbr\u003efree margin: 6257.282589\u003cbr\u003emargin level: inf","balance: 6257.282589 USD\u003cbr\u003eequity: 6096.474271\u003cbr\u003emargin: 3989.798400\u003cbr\u003efree margin: 2106.675871\u003cbr\u003emargin level: 1.528016"],"legendgroup":"g3","line":{"color":"rgba(0.7372549019607844, 0.7411764705882353, 0.13333333333333333, 1.0)"},"mode":"lines+markers","name":"USDJPY","opacity":1.0,"x":["2021-05-05T00:00:00+00:00","2021-05-06T00:00:00+00:00","2021-05-07T00:00:00+00:00","2021-05-10T00:00:00+00:00","2021-05-11T00:00:00+00:00","2021-05-12T00:00:00+00:00","2021-05-13T00:00:00+00:00","2021-05-14T00:00:00+00:00","2021-05-17T00:00:00+00:00","2021-05-18T00:00:00+00:00","2021-05-19T00:00:00+00:00","2021-05-20T00:00:00+00:00","2021-05-21T00:00:00+00:00","2021-05-24T00:00:00+00:00","2021-05-25T00:00:00+00:00","2021-05-26T00:00:00+00:00","2021-05-27T00:00:00+00:00","2021-05-28T00:00:00+00:00","2021-05-31T00:00:00+00:00","2021-06-01T00:00:00+00:00","2021-06-02T00:00:00+00:00","2021-06-03T00:00:00+00:00","2021-06-04T00:00:00+00:00","2021-06-07T00:00:00+00:00","2021-06-08T00:00:00+00:00","2021-06-09T00:00:00+00:00","2021-06-10T00:00:00+00:00","2021-06-11T00:00:00+00:00","2021-06-14T00:00:00+00:00","2021-06-15T00:00:00+00:00","2021-06-16T00:00:00+00:00","2021-06-17T00:00:00+00:00","2021-06-18T00:00:00+00:00","2021-06-21T00:00:00+00:00","2021-06-22T00:00:00+00:00","2021-06-23T00:00:00+00:00","2021-06-24T00:00:00+00:00","2021-06-25T00:00:00+00:00","2021-06-28T00:00:00+00:00","2021-06-29T00:00:00+00:00","2021-06-30T00:00:00+00:00","2021-07-01T00:00:00+00:00","2021-07-02T00:00:00+00:00","2021-07-05T00:00:00+00:00","2021-07-06T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-08T00:00:00+00:00","2021-07-09T00:00:00+00:00","2021-07-12T00:00:00+00:00","2021-07-13T00:00:00+00:00","2021-07-14T00:00:00+00:00","2021-07-15T00:00:00+00:00","2021-07-16T00:00:00+00:00","2021-07-19T00:00:00+00:00","2021-07-20T00:00:00+00:00","2021-07-21T00:00:00+00:00","2021-07-22T00:00:00+00:00","2021-07-23T00:00:00+00:00","2021-07-26T00:00:00+00:00","2021-07-27T00:00:00+00:00","2021-07-28T00:00:00+00:00","2021-07-29T00:00:00+00:00","2021-07-30T00:00:00+00:00","2021-08-02T00:00:00+00:00","2021-08-03T00:00:00+00:00","2021-08-04T00:00:00+00:00","2021-08-05T00:00:00+00:00","2021-08-06T00:00:00+00:00","2021-08-09T00:00:00+00:00","2021-08-10T00:00:00+00:00","2021-08-11T00:00:00+00:00","2021-08-12T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-08-16T00:00:00+00:00","2021-08-17T00:00:00+00:00","2021-08-18T00:00:00+00:00","2021-08-19T00:00:00+00:00","2021-08-20T00:00:00+00:00","2021-08-23T00:00:00+00:00","2021-08-24T00:00:00+00:00","2021-08-25T00:00:00+00:00","2021-08-26T00:00:00+00:00","2021-08-27T00:00:00+00:00","2021-08-30T00:00:00+00:00","2021-08-31T00:00:00+00:00","2021-09-01T00:00:00+00:00","2021-09-02T00:00:00+00:00","2021-09-03T00:00:00+00:00"],"y":[109.188,109.09,108.604,108.81,108.615,109.699,109.453,109.362,109.209,108.888,109.227,108.767,108.945,108.74,108.747,109.139,109.808,109.872,109.556,109.467,109.547,110.276,109.524,109.238,109.492,109.618,109.319,109.682,110.071,110.056,110.708,110.221,110.211,110.314,110.658,110.949,110.874,110.778,110.614,110.538,111.101,111.521,111.02,110.962,110.61,110.608,109.748,110.102,110.349,110.627,109.95,109.831,110.081,109.447,109.843,110.286,110.149,110.547,110.381,109.774,109.909,109.47,109.656,109.305,109.042,109.473,109.761,110.217,110.267,110.56,110.428,110.386,109.592,109.243,109.595,109.763,109.763,109.799,109.694,109.679,110.023,110.081,109.85,109.913,110.007,110.025,109.937,109.712],"yaxis":"y3","type":"scatter"},{"hovertext":["order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -25.063910\u003cbr\u003emodified volume: 25.0600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=25060.0, order profit=-678.3071912183385, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 20.693140\u003cbr\u003emodified volume: 20.6900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=20690.0, order profit=-479.93012115344044, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -93.549890\u003cbr\u003emodified volume: 93.5500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=93550.0, order profit=-1693.7470301117464, free margin=7962.618496246406)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 12.198657\u003cbr\u003emodified volume: 12.2000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=12200.0, order profit=-214.540036759953, free margin=5491.98956977598)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -87.094379\u003cbr\u003emodified volume: 87.0900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=87090.00000000001, order profit=-1388.3383460890188, free margin=7894.357369775957)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 75.929918\u003cbr\u003emodified volume: 75.9300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=75930.00000000001, order profit=-1686.116023502719, free margin=7894.357369775957)","order id: 3\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 5.977734\u003cbr\u003emodified volume: 5.9800\u003cbr\u003efee: 0.017434\u003cbr\u003emargin: 5980.000000\u003cbr\u003eerror: ","order id: 4\u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 2.494649\u003cbr\u003emodified volume: 2.4900\u003cbr\u003efee: 0.021786\u003cbr\u003emargin: 2490.000000\u003cbr\u003eerror: ","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -75.048469\u003cbr\u003emodified volume: 75.0500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=75050.00000000001, order profit=-1441.2472711885641, free margin=6933.108104227871)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -38.499717\u003cbr\u003emodified volume: 38.5000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=38500.0, order profit=-757.2697197031092, free margin=8947.368523973133)","order id: \u003cbr\u003ehold probability: 0.1202\u003cbr\u003ehold: False\u003cbr\u003evolume: 89.411305\u003cbr\u003emodified volume: 89.4100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=89409.99999999999, order profit=-1714.108432801357, free margin=8947.368523973133)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 78.597144\u003cbr\u003emodified volume: 78.6000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=78600.00000000001, order profit=-1437.2717518305953, free margin=7452.852008376429)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 9.411192\u003cbr\u003emodified volume: 9.4100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=9409.999999999998, order profit=-185.2236036575894, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0136\u003cbr\u003ehold: False\u003cbr\u003evolume: 53.982204\u003cbr\u003emodified volume: 53.9800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=53980.0, order profit=-845.9636465612514, free margin=8239.63987711048)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -62.400886\u003cbr\u003emodified volume: 62.4000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=62399.99999999999, order profit=-1276.4116717457646, free margin=10228.771894540221)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 82.659009\u003cbr\u003emodified volume: 82.6600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=82660.0, order profit=-1749.1754901604725, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -52.168300\u003cbr\u003emodified volume: 52.1700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=52169.99999999999, order profit=-818.5047950909399, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 57.289685\u003cbr\u003emodified volume: 57.2900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=57290.0, order profit=-925.2924922877133, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 37.777953\u003cbr\u003emodified volume: 37.7800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=37780.0, order profit=-687.7158382546717, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -61.581287\u003cbr\u003emodified volume: 61.5800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=61580.0, order profit=-1065.1764291933862, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 58.197988\u003cbr\u003emodified volume: 58.2000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=58199.99999999999, order profit=-1064.030289417029, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -42.153585\u003cbr\u003emodified volume: 42.1500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=42150.0, order profit=-582.343366160686, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -23.963028\u003cbr\u003emodified volume: 23.9600\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=23960.0, order profit=-398.4009463548051, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -78.818296\u003cbr\u003emodified volume: 78.8200\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=78820.0, order profit=-1683.713439910294, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -25.075850\u003cbr\u003emodified volume: 25.0800\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=25080.000000000004, order profit=-497.8250718714562, free margin=9189.90314177124)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 93.326106\u003cbr\u003emodified volume: 93.3300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=93330.0, order profit=-1794.9878406815237, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0002\u003cbr\u003ehold: False\u003cbr\u003evolume: -73.438414\u003cbr\u003emodified volume: 73.4400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=73440.0, order profit=-1314.5498975026157, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -49.254232\u003cbr\u003emodified volume: 49.2500\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=49250.0, order profit=-928.1409144053158, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0005\u003cbr\u003ehold: False\u003cbr\u003evolume: 24.787067\u003cbr\u003emodified volume: 24.7900\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=24789.999999999996, order profit=-368.15688973273376, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -38.596063\u003cbr\u003emodified volume: 38.6000\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=38600.0, order profit=-571.6737693277456, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 63.967848\u003cbr\u003emodified volume: 63.9700\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=63970.0, order profit=-1119.5278590577095, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: 93.313546\u003cbr\u003emodified volume: 93.3100\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=93310.00000000001, order profit=-2145.458285472489, free margin=9044.708052739074)","order id: \u003cbr\u003ehold probability: 0.0000\u003cbr\u003ehold: False\u003cbr\u003evolume: -92.542265\u003cbr\u003emodified volume: 92.5400\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=92540.0, order profit=-1670.8369046101711, free margin=1590.7745886257135)","order id: \u003cbr\u003ehold probability: 0.0002\u003cbr\u003ehold: False\u003cbr\u003evolume: -56.930288\u003cbr\u003emodified volume: 56.9300\u003cbr\u003efee: nan\u003cbr\u003emargin: nan\u003cbr\u003eerror: low free margin (order margin=56930.0, order profit=-1148.672596387651, free margin=6257.282588625643)"],"legendgroup":"g3","marker":{"color":["gray","gray","gray","gray","gray","gray","green","green","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray"],"size":[13.716715055993365,12.71982579842389,29.34072998755703,10.783077561177935,27.867067606802156,25.321236001659067,9.364164247200332,8.568021567814185,25.120489423475735,16.78266279552053,28.39630858564911,25.9303193695562,10.146619659892162,20.313977602654504,22.23475736209042,26.856491082538366,19.90107839070925,21.069058481957693,16.61841559518872,22.04769805060141,21.27664869348818,17.615304852758193,13.465781833264206,25.980506014102033,13.721277478224803,29.290543343011198,24.753214433844878,19.234964744919118,13.655122355868933,16.805474906677727,22.5929075072584,29.28598092077976,29.110327664869352,20.98693488179179],"symbol":["triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-up","triangle-up","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down","triangle-down"]},"mode":"markers","name":"USDJPY","showlegend":false,"x":["2021-05-19T00:00:00+00:00","2021-05-21T00:00:00+00:00","2021-05-24T00:00:00+00:00","2021-05-26T00:00:00+00:00","2021-06-02T00:00:00+00:00","2021-06-04T00:00:00+00:00","2021-06-07T00:00:00+00:00","2021-06-08T00:00:00+00:00","2021-06-09T00:00:00+00:00","2021-06-16T00:00:00+00:00","2021-06-21T00:00:00+00:00","2021-06-24T00:00:00+00:00","2021-06-28T00:00:00+00:00","2021-06-29T00:00:00+00:00","2021-07-07T00:00:00+00:00","2021-07-15T00:00:00+00:00","2021-07-16T00:00:00+00:00","2021-07-21T00:00:00+00:00","2021-07-22T00:00:00+00:00","2021-07-28T00:00:00+00:00","2021-08-04T00:00:00+00:00","2021-08-06T00:00:00+00:00","2021-08-09T00:00:00+00:00","2021-08-10T00:00:00+00:00","2021-08-11T00:00:00+00:00","2021-08-13T00:00:00+00:00","2021-08-17T00:00:00+00:00","2021-08-18T00:00:00+00:00","2021-08-20T00:00:00+00:00","2021-08-23T00:00:00+00:00","2021-08-24T00:00:00+00:00","2021-08-25T00:00:00+00:00","2021-08-30T00:00:00+00:00","2021-09-01T00:00:00+00:00"],"y":[109.227,108.945,108.74,109.139,109.547,109.524,109.238,109.492,109.618,110.708,110.314,110.874,110.614,110.538,110.608,109.831,110.081,110.286,110.149,109.909,109.473,110.217,110.267,110.56,110.428,109.592,109.595,109.763,109.799,109.694,109.679,110.023,109.913,110.025],"yaxis":"y3","type":"scatter"},{"hovertext":["order id: 3\u003cbr\u003eorder type: Buy\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 5980.000000\u003cbr\u003eprofit: 1292.026249","order id: 4\u003cbr\u003eorder type: Buy\u003cbr\u003eclose probability: 1.0000\u003cbr\u003emargin: 2490.000000\u003cbr\u003eprofit: -443.671597"],"legendgroup":"g3","marker":{"color":"black","line":{"width":1.5},"size":7,"symbol":"line-ns"},"mode":"markers","name":"USDJPY","showlegend":false,"x":["2021-06-08T00:00:00+00:00","2021-06-10T00:00:00+00:00"],"y":[109.492,109.319],"yaxis":"y3","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"yaxis":{"tickfont":{"color":"rgba(0.12156862745098039, 0.4666666666666667, 0.7058823529411765, 0.8)"}},"yaxis2":{"tickfont":{"color":"rgba(0.5643983083429451, 0.36993464052287583, 0.5132641291810843, 0.8)"},"overlaying":"y"},"yaxis3":{"tickfont":{"color":"rgba(0.7372549019607844, 0.7411764705882353, 0.13333333333333333, 0.8)"},"overlaying":"y"},"xaxis":{"tickformat":"%Y-%m-%d"},"title":{"text":"Balance: 6257.282589 USD ~ Equity: 6096.474271 ~ Margin: 3989.798400 ~ Free Margin: 2106.675871 ~ Margin Level: 1.528016"},"width":1400,"height":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('56190b6f-bb14-4507-849f-b6910b351797');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div></div></div>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="time_series_analysis.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">ARIMA for Time Series Analysis</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Reinforcement Learning</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#theoretical-concepts">Theoretical concepts</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#markov-decision-process">1. Markov Decision Process</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reward-and-evaluation-function">2. Reward and evaluation function</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-rl-algorithms">3. Common RL algorithms</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-rl-in-finance">Use of RL in finance</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#practical-implementation">Practical implementation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-financial-market-simulation-with-gym-mtsim">Introduction to Financial Market Simulation with Gym-MTSim</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-a-reinforcement-learning-environment-for-forex-trading-with-gym-mtsim">Setting Up a Reinforcement Learning Environment for Forex Trading with Gym-MTSim</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-accuracy">Custom accuracy</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-accuracy-profitable-trades-ratio">Custom accuracy: Profitable Trades Ratio</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By André Ramolivaz, Alberto Tomasin, Simone Dinato
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>